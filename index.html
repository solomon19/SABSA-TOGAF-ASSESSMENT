<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolTech Enterprise Architecture Consultancy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4ff; /* Light blue background */
        }
        .hero-bg {
            background-color: #f8fafc;
        }
        .service-card {
            transition: all 0.3s ease-in-out;
        }
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .sabsa-layer {
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .sabsa-layer:hover, .sabsa-layer.active {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #4f46e5;
        }
        .sabsa-layer.active {
             border-color: #4f46e5;
             background-color: #eef2ff;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #reportModal {
            transition: opacity 0.3s ease;
        }
        .report-tab {
            transition: all 0.2s ease-in-out;
        }
        .report-tab.active {
            border-color: #4f46e5;
            color: #4f46e5;
            background-color: #eef2ff;
        }
        .report-content {
            display: none;
        }
        .report-content.active {
            display: block;
        }
        .login-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        /* Print-specific styles */
        @media print {
            body {
                font-size: 10pt;
                line-height: 1.4;
                background-color: #ffffff !important;
            }
            .no-print, #login-screen, header, footer, #main-report-button-container, #sabsa-nav, #assessment-tool .text-center.mb-12, .content-section .mt-8 {
                display: none !important;
            }
            #reportModal {
                position: static;
                display: block !important;
                background: none;
                box-shadow: none;
            }
            #reportModal > div {
                box-shadow: none;
                max-height: none;
                width: 100%;
                max-width: 100%;
            }
            #reportOutput {
                overflow-y: visible;
            }
            .report-content {
                display: block !important; /* Show all report sections for printing */
                padding: 0 !important;
            }
            #infographic-content {
                page-break-after: always;
            }
            #details-content h2 {
                font-size: 16pt;
                border-bottom: 2px solid #4f46e5;
                padding-bottom: 4px;
                margin-top: 20px;
                page-break-before: auto;
                page-break-inside: avoid;
            }
            #details-content .mb-8 {
                 page-break-inside: avoid;
            }
            #details-content .mb-4 {
                page-break-inside: avoid;
            }
            .chart-container {
                height: 50vh !important;
                width: 100% !important;
            }
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <div id="login-screen" class="min-h-screen flex items-center justify-center bg-gray-100">
        <div class="w-full max-w-4xl lg:max-w-6xl mx-auto flex flex-col md:flex-row bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center">
                <h2 class="text-3xl font-bold text-center text-gray-900">Welcome to SolTech</h2>
                <p class="text-center text-gray-600 mt-2">Log in for admin features or continue as a guest to use the assessment tool.</p>
                <form id="loginForm" class="mt-8 space-y-6">
                    <div class="rounded-md shadow-sm -space-y-px">
                        <div>
                            <input id="username" name="username" type="text" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Username">
                        </div>
                        <div>
                            <input id="password" name="password" type="password" required class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" placeholder="Password">
                        </div>
                    </div>
                    <p id="loginError" class="text-red-500 text-sm hidden">Invalid username or password.</p>
                    <div>
                        <button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Sign in as Admin
                        </button>
                    </div>
                     <div class="text-center">
                        <button type="button" id="guestLoginBtn" class="font-medium text-indigo-600 hover:text-indigo-500">
                            Continue as Guest
                        </button>
                    </div>
                </form>
            </div>
            <div class="w-full md:w-1/2 p-8 md:p-12 login-bg text-white flex flex-col justify-center items-center text-center">
                <h3 class="text-3xl font-bold mb-4">Unlock Your Business Potential</h3>
                <p class="mb-6">Enterprise Architecture connects your strategy to execution, ensuring every part of your organization works towards the same goals.</p>
                <div class="space-y-4 text-left">
                    <div class="flex items-start">
                        <svg class="w-6 h-6 mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="font-semibold">Align IT with Business:</strong> Ensure technology investments directly support strategic objectives.</span>
                    </div>
                    <div class="flex items-start">
                        <svg class="w-6 h-6 mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="font-semibold">Improve Agility:</strong> Respond faster to market changes with a clear view of your capabilities.</span>
                    </div>
                    <div class="flex items-start">
                        <svg class="w-6 h-6 mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="font-semibold">Reduce Costs:</strong> Identify redundancies and optimize your technology portfolio.</span>
                    </div>
                     <div class="flex items-start">
                        <svg class="w-6 h-6 mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span><strong class="font-semibold">Manage Risk:</strong> Build a secure and resilient foundation for your operations.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="main-content" class="hidden">
        <!-- Header & Nav -->
        <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40">
            <div class="container mx-auto px-6">
                <div class="flex items-center justify-between h-20">
                    <a href="#" class="flex items-center">
                        <svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        <span class="ml-3 text-2xl font-bold text-gray-900">SolTech</span>
                    </a>
                    <nav class="hidden md:flex items-center space-x-8">
                        <a href="#services" class="text-gray-600 hover:text-indigo-600 font-medium">Services</a>
                        <a href="#assessment-tool" class="text-gray-600 hover:text-indigo-600 font-medium">Assessment</a>
                        <a href="#contact" class="text-gray-600 hover:text-indigo-600 font-medium">Contact</a>
                    </nav>
                    <a href="#assessment-tool" class="hidden md:inline-block bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-indigo-700 transition-transform hover:scale-105">
                        Free Consultation
                    </a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <div class="hero-bg text-gray-900">
            <div class="container mx-auto px-6 py-24 text-center relative z-10">
                <h1 class="text-5xl md:text-7xl font-extrabold leading-tight">Enterprise Architecture for the Modern Business</h1>
                <p class="mt-6 text-lg md:text-xl max-w-3xl mx-auto text-gray-600">We provide the strategic vision and technical expertise to build flexible, secure, and future-proof architectures that drive your transformation journeys.</p>
                <div class="mt-8 flex justify-center space-x-4">
                    <a href="#assessment-tool" class="inline-block bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-indigo-700 transition-transform hover:scale-105">
                        Start Free Assessment
                    </a>
                     <a href="#services" class="inline-block bg-white text-indigo-600 font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-gray-100 transition-transform hover:scale-105">
                        Explore Services
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Trusted By Section -->
        <div class="py-12 bg-white">
            <div class="container mx-auto px-6">
                <p class="text-center text-gray-500 font-medium">Trusted by leading organizations</p>
                <div class="flex justify-center items-center mt-6 space-x-8 md:space-x-12 grayscale opacity-60">
                    <p class="text-2xl font-bold">InnovateCorp</p>
                    <p class="text-2xl font-bold">QuantumLeap</p>
                    <p class="text-2xl font-bold">Nexus Global</p>
                    <p class="text-2xl font-bold">Pinnacle Inc.</p>
                </div>
            </div>
        </div>

        <!-- Services Section -->
        <div id="services" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-900">What Sets Us Apart</h2>
                    <p class="mt-4 text-lg text-gray-600">A holistic approach to enterprise architecture and security.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Service Card 1 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0v-4a2 2 0 012-2h6a2 2 0 012 2v4m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5m0 16v-2m-6-14v-2m-6 16v-2"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">TOGAF Enterprise Architecture</h3>
                        <p class="text-gray-600">Implement a structured approach to organize and govern your IT architecture, ensuring it aligns with business goals.</p>
                    </div>
                    <!-- Service Card 2 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">SABSA Security Architecture</h3>
                        <p class="text-gray-600">Develop a business-driven security architecture that manages risk and enables new business opportunities securely.</p>
                    </div>
                    <!-- Service Card 3 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Gap Analysis & Roadmap</h3>
                        <p class="text-gray-600">Identify the gaps between your current and target architectures and create a prioritized, actionable roadmap for transformation.</p>
                    </div>
                    <!-- Service Card 4 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 14l9-5-9-5-9 5 9 5z"></path><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20M1 12l11 6 11-6"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Training & Research</h3>
                        <p class="text-gray-600">Custom training programs and research on Cybersecurity, Enterprise Architecture, and emerging technology trends.</p>
                    </div>
                    <!-- Service Card 5 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Startup Pitch Decks</h3>
                        <p class="text-gray-600">Craft compelling, visually attractive pitch decks that clearly communicate your vision and technical architecture to investors.</p>
                    </div>
                    <!-- Service Card 6 -->
                    <div class="service-card bg-white p-8 rounded-xl shadow-md text-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                           <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Web App Development</h3>
                        <p class="text-gray-600">Build robust, scalable, and secure websites and web applications that serve as the foundation of your digital presence.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Assessment Tool Section -->
        <div id="assessment-tool" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-900">Enterprise Architecture Assessment Tool</h2>
                    <p class="mt-4 text-lg text-gray-600">Answer the questions below to generate a high-level maturity report.</p>
                </div>
                <main>
                    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-8">
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Assessment Framework Explorer</h2>
                        <p class="text-gray-600 mb-6">Click on a section to explore and answer the questions. This model covers the full lifecycle from business strategy to operational maturity and commercial agreement.</p>
                        <div id="sabsa-nav" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
                            <!-- Navigation sections will be injected here by JS -->
                        </div>
                    </div>
                    
                    <div id="content-display" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg min-h-[30rem]">
                        <!-- Content Sections will be injected here by JS -->
                    </div>

                    <div class="mt-8 text-center" id="main-report-button-container">
                        <button id="generateReportBtn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 transition-transform hover:scale-105">
                            Generate Assessment Report
                        </button>
                    </div>
                </main>
            </div>
        </div>

        <!-- Ethiopian Testimonial Section -->
        <div class="py-20 bg-gray-50">
            <div class="container mx-auto px-6 text-center">
                 <img src="https://placehold.co/100x40/cccccc/cccccc?text=Ethio" alt="Ethio Telecom Logo" class="mx-auto mb-6 grayscale opacity-60">
                <p class="text-xl md:text-2xl font-medium max-w-3xl mx-auto text-gray-700">"Working with SolTech allowed us to build a scalable and secure architecture, which was critical for our national digital expansion. Their deep understanding of both global standards and local context is unmatched."</p>
                <p class="mt-6 font-bold text-lg text-gray-900">Abebe Kebede, Chief Enterprise Architect at Ethio Telecom</p>
            </div>
        </div>
        
        <footer id="contact" class="py-12 bg-gray-900 text-white">
            <div class="container mx-auto px-6 text-center">
                <h3 class="font-bold text-2xl mb-4">SolTech Enterprise Architecture Consultancy</h3>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-6 text-gray-400">
                    <a href="mailto:sol19.b@gmail.com" class="hover:text-indigo-400 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                        sol19.b@gmail.com
                    </a>
                    <a href="tel:+251911506932" class="hover:text-indigo-400 flex items-center">
                         <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg>
                        +251911506932
                    </a>
                    <a href="https://www.linkedin.com/in/solomonbaye" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-400 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.206v4.248H8.014V8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.718zM5.337 7.433a1.06 1.06 0 01-.99-1.06c0-.584.42-.99 1.03-1.06.6.07.99.476.99 1.06 0 .584-.39.99-1.03 1.06zM6.638 8.59H3.976v7.748h2.662V8.59zM17.638 2H2.362C1.013 2 0 3.013 0 4.362v11.276C0 16.987 1.013 18 2.362 18h15.276C18.987 18 20 16.987 20 15.638V4.362C20 3.013 18.987 2 17.638 2z" clip-rule="evenodd"></path></svg>
                        LinkedIn
                    </a>
                </div>
                <p class="mt-6 text-sm text-gray-500">&copy; 2025 SolTech Enterprise Architecture Consultancy.</p>
            </div>
        </footer>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 hidden no-print">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col">
            <div class="p-4 border-b border-gray-200 flex justify-between items-center no-print">
                <div class="flex border border-gray-200 rounded-lg p-1">
                    <button data-tab="infographic" class="report-tab font-semibold py-2 px-4 rounded-md text-sm">Infographic Summary</button>
                    <button data-tab="details" class="report-tab font-semibold py-2 px-4 rounded-md text-sm">Detailed Report</button>
                </div>
                <div>
                    <button id="printReportBtn" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg mr-2 hover:bg-gray-300 transition-colors">Print</button>
                    <button id="closeReportBtn" class="bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors">Close</button>
                </div>
            </div>
            <div id="reportOutput" class="overflow-y-auto">
                 <!-- Infographic Report -->
                <div id="infographic-content" class="report-content p-8">
                    <!-- This will be populated by JS -->
                </div>
                <!-- Detailed Text Report -->
                <div id="details-content" class="report-content p-8">
                     <!-- This will be populated by JS -->
                </div>
            </div>
        </div>
    </div>


    <script>
        let isAdmin = false;
        let maturityChart = null;

        const assessmentData = [
            {
                id: 'contextual',
                title: 'Business Context & Drivers',
                subtitle: 'The "Why"',
                layer: 'SABSA: Contextual Layer',
                description: "Understanding the business goals, drivers, and critical assets that require protection.",
                questions: [
                    { q: "What are the primary business objectives for the next 1-3 years (e.g., increase market share, launch new products, expand geographically)?", a: "This defines the mission that the architecture must support. Security and IT objectives must be traceable back to these goals.", type: 'open', response: '' },
                    { q: "What are the most critical business processes for your organization's success (e.g., online sales, manufacturing, customer service)?", a: "Identifying these 'crown jewel' processes helps prioritize protection efforts and investments.", type: 'open', response: '' },
                    { q: "What is your organization's tolerance for risk regarding security incidents (e.g., financial loss, reputational damage, operational downtime)?", a: "This directly influences the level of security investment and the stringency of controls.", type: 'multiple-choice', options: ['Very Low (Risk Averse)', 'Low', 'Moderate', 'High', 'Very High (Risk Seeking)'], response: '' },
                ]
            },
            {
                id: 'conceptual',
                title: 'Security Strategy & Concepts',
                subtitle: 'The "What"',
                layer: 'SABSA: Conceptual Layer',
                description: "Defining the high-level security strategy, policies, and conceptual design.",
                questions: [
                    { q: "What is the primary motivation for your security program?", a: "This reveals the core philosophy: is security seen as a compliance checkbox, a risk mitigator, or a business enabler?", type: 'multiple-choice', options: ['Compliance-Driven', 'Risk-Driven', 'Threat-Driven', 'Business-Enablement-Driven'], response: '' },
                    { q: "How do you decide which security controls are necessary and which are not? Is this decision-making process documented?", a: "This is a key test of a systematic approach to control selection, rather than an ad-hoc one.", type: 'multiple-choice', options: ['Yes, formally documented and governed', 'An informal process exists', 'Decisions are ad-hoc', 'I don\'t know'], response: '' },
                    { q: "How is security integrated into new projects or system development lifecycles?", a: "This determines if security is 'built-in' from the start or 'bolted-on' as an afterthought, which is far more costly.", type: 'multiple-choice', options: ['Security is involved from the concept/planning phase', 'Security is engaged during design/development', 'Security is engaged for testing before deployment', 'Security is involved only after deployment'], response: '' },
                ]
            },
            {
                id: 'logical',
                title: 'Security Services & Design',
                subtitle: 'The "How"',
                layer: 'SABSA: Logical Layer',
                description: "Designing the abstract security services needed to meet strategic goals, independent of specific technologies.",
                questions: [
                    { q: "What is your high-level approach to managing user identities and controlling access to information?", a: "This describes the fundamental model for ensuring the right people have the right access.", type: 'multiple-choice', options: ['Centralized (e.g., single corporate directory)', 'Federated (e.g., using partner identities)', 'Decentralized / Self-Sovereign', 'A hybrid approach'], response: '' },
                    { q: "How do you logically separate your network and applications to limit the impact of a potential breach?", a: "Effective segmentation contains threats and prevents minor incidents from becoming major crises.", type: 'multiple-choice', options: ['No formal segmentation', 'Basic network zones (e.g., DMZ, Internal)', 'Micro-segmentation based on application/workload', 'Zero-trust architecture principles are applied'], response: '' },
                ]
            },
            {
                id: 'physical',
                title: 'Technology & Implementation',
                subtitle: 'The "With What"',
                layer: 'SABSA: Physical Layers',
                description: "Mapping the logical design to specific, real-world technologies and components.",
                questions: [
                    { q: "Where are your critical business applications primarily hosted?", a: "The physical or virtual location of assets is key to applying the correct protections.", type: 'multiple-choice', options: ['Primarily On-Premise Data Centers', 'Primarily a single Public Cloud (e.g., AWS, Azure, GCP)', 'Hybrid Cloud (Mix of On-Premise and Public Cloud)', 'Multi-Cloud (Using multiple Public Cloud providers)'], response: '' },
                    { q: "How well are your different security tools integrated to work together?", a: "A collection of unintegrated tools is not an architecture. Integration enables correlation and automated response.", type: 'multiple-choice', options: ['Tools operate in silos with no integration', 'Some point-to-point integrations exist', 'A central platform (e.g., SIEM/SOAR) provides significant integration', 'Highly automated and integrated ecosystem'], response: '' },
                ]
            },
            {
                id: 'service',
                title: 'Security Operations & Governance',
                subtitle: 'The "Ongoing How"',
                layer: 'SABSA: Service Management',
                description: "Managing, operating, and governing the security architecture on an ongoing basis.",
                questions: [
                    { q: "How does your organization monitor for and respond to security threats?", a: "This assesses the core of your detection and response capabilities.", type: 'multiple-choice', options: ['No formal monitoring / Ad-hoc response', 'In-house team, business hours only', 'In-house team, 24/7', 'Co-managed with a service provider', 'Fully outsourced to a service provider'], response: '' },
                    { q: "How frequently are security policies and procedures formally reviewed and updated to keep pace with business and threat changes?", a: "This tests for a living, breathing governance framework rather than a static one.", type: 'multiple-choice', options: ['Annually or more frequently', 'Every 2-3 years', 'Rarely / on an ad-hoc basis', 'Never'], response: '' },
                ]
            },
            {
                id: 'togaf',
                title: 'TOGAF Enterprise Architecture',
                subtitle: 'The "Structure"',
                layer: 'TOGAF: ADM & Governance',
                description: "Assessing the maturity of the overall Enterprise Architecture practice.",
                questions: [
                    { q: "Does the organization have a defined set of guiding principles for making architecture decisions?", a: "Architecture principles are the foundation for EA governance and decision-making.", type: 'multiple-choice', options: ['Yes, formally documented and governed', 'Yes, but they are informal or outdated', 'Only for specific domains (e.g., technology)', 'No'], response: '' },
                    { q: "Is there a formal group (e.g., an Architecture Review Board) responsible for governing architectural decisions?", a: "A formal governance body is a key component for ensuring architectural consistency and alignment.", type: 'multiple-choice', options: ['Yes, with a formal charter and regular meetings', 'Yes, but it operates informally', 'No, governance is ad-hoc', 'I don\'t know'], response: '' },
                    { q: "How are architectural decisions communicated to and enforced on implementation projects?", a: "This is a critical test of the architecture's real-world impact and compliance.", type: 'multiple-choice', options: ['Formal architecture compliance reviews are mandatory', 'Architecture contracts are used', 'Informal guidance and consultation is provided', 'There is little to no enforcement'], response: '' },
                ]
            },
            {
                id: 'capability',
                title: 'Capability & Maturity',
                subtitle: 'The "How Well"',
                layer: 'Framework-Aligned Assessment',
                description: "Assess the maturity of your key capabilities. Rate each on a scale of 1 (Ad-Hoc/Initial) to 5 (Optimizing).",
                questions: [
                    { q: "Security Governance & Management", a: "How well-defined and effective are your security strategy, policies, and management systems?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                    { q: "Risk Management", a: "How mature is your process for identifying, assessing, and mitigating security risks?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                    { q: "Identity & Access Management", a: "How effectively do you manage who has access to what, and are privileges regularly reviewed?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                    { q: "Data Security", a: "How well is your sensitive data protected through measures like classification, encryption, and loss prevention?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                    { q: "Incident Response", a: "How prepared is your organization to detect, respond to, and recover from a security incident?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                    { q: "Third-Party Risk Management", a: "How effectively do you manage the security risks associated with your vendors and partners?", type: 'rating', options: ['1','2','3','4','5'], response: '' },
                ]
            },
            {
                id: 'engagement',
                title: 'Engagement & Commercials',
                subtitle: 'The "Agreement"',
                layer: 'Scoping & Agreement',
                description: "Clarifying the practical aspects of the engagement for a successful partnership.",
                questions: [
                    { q: "What is the primary driver for this architecture engagement?", a: "Understanding the primary motivation helps tailor the engagement's focus.", type: 'multiple-choice', options: ['Regulatory Audit / Compliance', 'Digital Transformation Initiative', 'Post-Incident Response', 'Board-Level Directive', 'Proactive Improvement'], response: '' },
                    { q: "How ready is your organization's culture and processes to support a significant architectural change?", a: "This helps gauge the organization's readiness and capacity for change.", type: 'multiple-choice', options: ['Low - Significant resistance to change expected', 'Moderate - Some key enablers are in place', 'High - The organization is agile and ready for change'], response: '' },
                    { q: "What is the preferred commercial model for this engagement?", a: "This opens the conversation about the financial structure of the agreement.", type: 'multiple-choice', options: ['Fixed Price', 'Time & Materials', 'Retainer-based'], response: '' },
                ]
            },
            {
                id: 'estimation',
                title: 'Cost & Timeline Estimation',
                subtitle: 'The "Effort"',
                layer: 'Admin: Project Scoping',
                description: "This section gathers information to provide a preliminary estimate for an enterprise architecture program. (Admin access required)",
                adminOnly: true,
                questions: [
                    { q: "What is the total number of business units and IT systems involved?", a: "Complexity is a key driver of effort.", type: 'open', response: '' },
                    { q: "How many internal and external stakeholders are expected to participate?", a: "High stakeholder counts increase coordination effort.", type: 'open', response: '' },
                ]
            }
        ];

        function navigateToSection(sectionId) {
            document.querySelectorAll('.sabsa-layer').forEach(nav => nav.classList.remove('active'));
            const navItem = document.querySelector(`.sabsa-layer[data-id="${sectionId}"]`);
            if (navItem) {
                navItem.classList.add('active');
            }
            
            document.querySelectorAll('.content-section').forEach(content => content.classList.remove('active'));
            const contentSection = document.getElementById(`content-${sectionId}`);
            if (contentSection) {
                contentSection.classList.add('active');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const navContainer = document.getElementById('sabsa-nav');
            const contentContainer = document.getElementById('content-display');
            const loginScreen = document.getElementById('login-screen');
            const mainContent = document.getElementById('main-content');
            const loginForm = document.getElementById('loginForm');
            const guestLoginBtn = document.getElementById('guestLoginBtn');

            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = e.target.username.value;
                const password = e.target.password.value;
                if (username === 'admin' && password === 'password') {
                    isAdmin = true;
                    initializeApp();
                } else {
                    document.getElementById('loginError').classList.remove('hidden');
                }
            });

            guestLoginBtn.addEventListener('click', () => {
                isAdmin = false;
                initializeApp();
            });

            function initializeApp() {
                mainContent.classList.remove('hidden');
                loginScreen.remove();

                navContainer.innerHTML = '';
                contentContainer.innerHTML = '';
                
                const visibleSections = assessmentData.filter(section => !section.adminOnly || isAdmin);

                visibleSections.forEach((section, index) => {
                    const navItem = document.createElement('div');
                    navItem.className = 'sabsa-layer bg-white border-2 border-gray-200 p-4 rounded-lg shadow-sm';
                    navItem.dataset.id = section.id;
                    navItem.innerHTML = `
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-bold text-indigo-700">${section.title}</h3>
                            <span class="text-xs font-semibold text-gray-500">${section.subtitle}</span>
                        </div>
                        <p class="text-sm text-gray-600 mt-1">${section.layer}</p>
                    `;
                    navContainer.appendChild(navItem);

                    const contentSection = document.createElement('div');
                    contentSection.id = `content-${section.id}`;
                    contentSection.className = 'content-section';
                    
                    let questionsHtml = section.questions.map((item, qIndex) => renderQuestion(item, section.id, qIndex)).join('');
                    
                    const nextSectionId = index < visibleSections.length - 1 ? visibleSections[index + 1].id : null;
                    const nextButtonHtml = nextSectionId ? `<button onclick="navigateToSection('${nextSectionId}')" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">Go to Next Section</button>` : '';

                    contentSection.innerHTML = `
                        <h2 class="text-3xl font-bold text-gray-900 mb-3">${section.title}</h2>
                        <p class="text-gray-600 mb-8 max-w-4xl">${section.description}</p>
                        <div class="space-y-4">
                            ${questionsHtml}
                        </div>
                        <div class="mt-8 pt-6 border-t flex justify-between items-center">
                            <button onclick="document.getElementById('generateReportBtn').click()" class="bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-indigo-700">Generate Full Report</button>
                            ${nextButtonHtml}
                        </div>
                    `;
                    contentContainer.appendChild(contentSection);
                });

                const navItems = document.querySelectorAll('.sabsa-layer');
                navItems.forEach(item => {
                    item.addEventListener('click', () => navigateToSection(item.dataset.id));
                });

                if (navItems.length > 0) {
                    navItems[0].click();
                }
            }

            function renderQuestion(item, sectionId, index) {
                let inputHtml = '';
                const questionId = `q-${sectionId}-${index}`;
                
                if (item.sub_questions) {
                    inputHtml += `<div class="mt-4 space-y-4 pl-4 border-l-2 border-gray-200">`;
                    item.sub_questions.forEach((sub, sub_index) => {
                        const subQuestionId = `${questionId}-${sub_index}`;
                        inputHtml += `<div><p class="font-medium text-gray-700">${sub.q}</p>`;
                        inputHtml += `<div class="mt-2 flex items-center justify-between px-2 max-w-sm">
                            <span class="text-sm text-gray-500">Ad-Hoc</span>
                            <div class="flex items-center space-x-4">${sub.options.map(opt => `
                                <label class="flex flex-col items-center cursor-pointer">
                                    <input type="radio" name="${subQuestionId}" value="${opt}" data-section-id="${sectionId}" data-question-index="${index}" data-sub-question-index="${sub_index}" class="h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500" ${sub.response === opt ? 'checked' : ''}>
                                    <span class="mt-1 text-xs font-bold">${opt}</span>
                                </label>
                            `).join('')}</div>
                            <span class="text-sm text-gray-500">Optimized</span>
                         </div></div>`;
                    });
                    inputHtml += `</div>`;
                } else {
                    switch (item.type) {
                        case 'open':
                            inputHtml = `<textarea id="${questionId}" data-section-id="${sectionId}" data-question-index="${index}" class="mt-2 w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" rows="4" placeholder="Your detailed answer...">${item.response}</textarea>`;
                            break;
                        case 'multiple-choice':
                            inputHtml = `<div class="mt-2 space-y-2">${item.options.map((opt, optIndex) => `
                                <label class="flex items-center p-2 rounded-md hover:bg-gray-100 cursor-pointer">
                                    <input type="radio" name="${questionId}" value="${opt}" data-section-id="${sectionId}" data-question-index="${index}" class="h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500" ${item.response === opt ? 'checked' : ''}>
                                    <span class="ml-3 text-gray-700">${opt}</span>
                                </label>
                            `).join('')}</div>`;
                            break;
                        case 'rating':
                             inputHtml = `<div class="mt-3 flex items-center justify-between px-2 max-w-sm">
                                <span class="text-sm text-gray-500">Ad-Hoc</span>
                                <div class="flex items-center space-x-4">${item.options.map(opt => `
                                    <label class="flex flex-col items-center cursor-pointer">
                                        <input type="radio" name="${questionId}" value="${opt}" data-section-id="${sectionId}" data-question-index="${index}" class="h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500" ${item.response === opt ? 'checked' : ''}>
                                        <span class="mt-1 text-xs font-bold">${opt}</span>
                                    </label>
                                `).join('')}</div>
                                <span class="text-sm text-gray-500">Optimized</span>
                             </div>`;
                            break;
                    }
                }

                return `
                    <div class="question-card border-b border-gray-200 py-5">
                        <p class="font-semibold text-gray-800 mb-1">${item.q}</p>
                        <div class="pl-4 border-l-2 border-indigo-100">
                            <p class="text-sm text-gray-500 italic mb-2">${item.a}</p>
                            ${inputHtml}
                        </div>
                    </div>
                `;
            }

            contentContainer.addEventListener('input', (e) => {
                if (e.target.tagName === 'TEXTAREA') {
                    const { sectionId, questionIndex } = e.target.dataset;
                    assessmentData.find(s => s.id === sectionId).questions[questionIndex].response = e.target.value;
                }
            });

            contentContainer.addEventListener('change', (e) => {
                if (e.target.type === 'radio') {
                    const { sectionId, questionIndex, subQuestionIndex } = e.target.dataset;
                    if (subQuestionIndex !== undefined) {
                        assessmentData.find(s => s.id === sectionId).questions[questionIndex].sub_questions[subQuestionIndex].response = e.target.value;
                    } else {
                        assessmentData.find(s => s.id === sectionId).questions[questionIndex].response = e.target.value;
                    }
                }
            });

            // Report Generation Logic
            const reportModal = document.getElementById('reportModal');
            const generateReportBtn = document.getElementById('generateReportBtn');
            const closeReportBtn = document.getElementById('closeReportBtn');
            const printReportBtn = document.getElementById('printReportBtn');
            const infographicContent = document.getElementById('infographic-content');
            const detailsContent = document.getElementById('details-content');

            generateReportBtn.addEventListener('click', () => {
                // Generate Detailed Report
                let detailsHtml = `<h1 class="text-3xl font-bold text-center mb-8">Enterprise Architecture Assessment Report</h1>`;
                const visibleSections = assessmentData.filter(section => !section.adminOnly || isAdmin);
                visibleSections.forEach(section => {
                    detailsHtml += `<div class="mb-8 break-after-page">
                                     <h2 class="text-2xl font-bold border-b-2 border-indigo-500 pb-2 mb-4">${section.title}</h2>`;
                    section.questions.forEach((q, i) => {
                        let response = q.response || 'No response provided.';
                        if(q.sub_questions) {
                            response = q.sub_questions.map(sq => `<p class="font-medium text-sm mt-2">${sq.q}: <span class="font-normal">${sq.response || 'N/A'}</span></p>`).join('');
                        }
                        detailsHtml += `<div class="mb-4">
                                         <p class="font-semibold">${i + 1}. ${q.q}</p>
                                         <div class="pl-4 text-gray-700 bg-gray-50 p-2 rounded-md mt-1">${response}</div>
                                       </div>`;
                    });
                    detailsHtml += `</div>`;
                });
                detailsContent.innerHTML = detailsHtml;

                // Generate Infographic
                const capabilitySection = assessmentData.find(s => s.id === 'capability');
                const maturityScores = capabilitySection.questions.map(q => q.response ? parseInt(q.response, 10) : 0);
                const maturityLabels = capabilitySection.questions.map(q => q.q.split('(')[0].trim());
                const averageScore = maturityScores.filter(s => s > 0).length > 0 ? (maturityScores.reduce((a, b) => a + b, 0) / maturityScores.filter(s => s > 0).length) : 0;
                
                let maturityLevel = 'Initial';
                let maturityColor = 'text-red-600';
                if (averageScore >= 4.5) { maturityLevel = 'Optimizing'; maturityColor = 'text-green-600';}
                else if (averageScore >= 3.5) { maturityLevel = 'Quantitatively Managed'; maturityColor = 'text-blue-600'; }
                else if (averageScore >= 2.5) { maturityLevel = 'Managed'; maturityColor = 'text-yellow-600'; }
                else if (averageScore >= 1.5) { maturityLevel = 'Defined'; maturityColor = 'text-orange-600'; }

                const togafGovernance = assessmentData.find(s => s.id === 'togaf').questions[1].response || 'N/A';
                const primaryDriver = assessmentData.find(s => s.id === 'engagement').questions[0].response || 'N/A';

                infographicContent.innerHTML = `
                    <div class="bg-slate-900 text-white p-8 rounded-lg">
                        <h1 class="text-3xl font-bold text-center mb-2">Architecture Assessment Summary</h1>
                        <p class="text-center text-slate-400 mb-8">A visual overview of the organization's security capabilities and EA posture.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-slate-800 p-4 rounded-lg text-center">
                                <p class="text-sm text-slate-400">Overall Security Maturity</p>
                                <p class="text-4xl font-bold ${maturityColor}">${averageScore.toFixed(2)}</p>
                                <p class="text-sm font-semibold ${maturityColor}">${maturityLevel}</p>
                            </div>
                            <div class="bg-slate-800 p-4 rounded-lg text-center">
                                <p class="text-sm text-slate-400">EA Governance</p>
                                <p class="text-2xl font-bold text-indigo-400 mt-2 truncate" title="${togafGovernance}">${togafGovernance}</p>
                            </div>
                            <div class="bg-slate-800 p-4 rounded-lg text-center">
                                <p class="text-sm text-slate-400">Primary Engagement Driver</p>
                                <p class="text-2xl font-bold text-indigo-400 mt-2 truncate" title="${primaryDriver}">${primaryDriver}</p>
                            </div>
                        </div>

                        <div class="bg-slate-800 p-6 rounded-lg">
                             <h2 class="text-xl font-bold text-center text-slate-300 mb-4">Capability Maturity Radar</h2>
                             <div class="chart-container" style="position: relative; height:60vh; width:100%">
                                <canvas id="maturityChart"></canvas>
                             </div>
                        </div>
                    </div>
                `;
                
                if(maturityChart) {
                    maturityChart.destroy();
                }
                const ctx = document.getElementById('maturityChart').getContext('2d');
                maturityChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: maturityLabels,
                        datasets: [{
                            label: 'Maturity Score',
                            data: maturityScores,
                            backgroundColor: 'rgba(79, 70, 229, 0.2)',
                            borderColor: 'rgba(99, 102, 241, 1)',
                            pointBackgroundColor: 'rgba(99, 102, 241, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(99, 102, 241, 1)'
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 5,
                                stepSize: 1,
                                angleLines: { color: 'rgba(255, 255, 255, 0.2)' },
                                grid: { color: 'rgba(255, 255, 255, 0.2)' },
                                pointLabels: { 
                                    color: '#cbd5e1',
                                    font: {
                                        size: 11
                                    }
                                },
                                ticks: {
                                    color: '#fff',
                                    backdropColor: 'rgba(0, 0, 0, 0.5)',
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });


                reportModal.classList.remove('hidden');
                document.querySelector('.report-tab[data-tab="infographic"]').click();
            });

            closeReportBtn.addEventListener('click', () => {
                reportModal.classList.add('hidden');
            });
            
            printReportBtn.addEventListener('click', () => {
                window.print();
            });

            // Tab functionality for report modal
            const reportTabs = document.querySelectorAll('.report-tab');
            reportTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.dataset.tab;
                    reportTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    document.querySelectorAll('.report-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabName}-content`).classList.add('active');
                });
            });

        });
    </script>
</body>
</html>
